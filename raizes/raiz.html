<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://unpkg.com/mathjs/dist/math.min.js"> </script>
	<script src="desenha.js"></script>

</head>

<body>
	<div>
		<input type="radio" id="radio_bisseção"> Cálculo pelo método da Bisseção<br>
		<input type="radio" id="radio_newton"> Cálculo pelo método de Newton<br>

	</div><br><br>

	<div>
		<label>F(x):</label>
		<input type="text" id="txt_func">
		<input type="text" id="txt_erro">
		<button id="btn_calc">Cálcular</button>
	</div>

	<div align="center">
		<canvas id="canvasGrafico"></canvas>
	</div>

	<script>
		
		function raiz_bissecao(func,erro,num) {
			var a = num
			var b = num+1

			var fa = func.eval({x:a})
			var fb = func.eval({x:b})
			var aux_f = 0
			var aux_erro = 1000
			var verif = 0

			while(verif == 0){

				if((fa*fb) < 0){

					while(erro<aux_erro){
						var p = (a+b)/2
						var fp = func.eval({x:p})

						aux_erro = fp - aux_f
						if(aux_erro < 0){
							aux_erro = -aux_erro
						}

						if((fa*fp) < 0){
							b = p
						}
						else{
							a = p
						}

					}
				
				console.log('raiz em :'+p)
				verif = 1

				}
			}



			
		}

		document.getElementById('btn_calc').addEventListener("click", function (event) {
			var func = document.getElementById('txt_func').value
			var erro = document.getElementById('txt_erro').value

			var interpreta = math.parse(func)

			var verifraiz = raiz_bissecao(interpreta,erro,0)

			grafic(interpreta)
		})


	</script>

</body>
</html>